<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervised Learning - Intelligent System 2024</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            display: flex;
            min-height: 100vh;
        }
        #sidebar {
            width: 250px;
            min-height: 100vh;
            border-right: 1px solid #444;
        }
        #content {
            flex-grow: 1;
            padding: 20px;
        }
        .nav-link {
            color: #adb5bd;
        }
        .nav-link:hover, .nav-link.active {
            color: #fff;
        }
        .no-select {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .custom-radio {
        display: inline-block;
        position: relative;
        padding-left: 25px;
        margin-bottom: 12px;
        cursor: pointer;
        font-size: 16px;
    }
    .custom-radio input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
    }
    .checkmark {
        position: absolute;
        top: 0;
        left: 0;
        height: 20px;
        width: 20px;
        background-color: #eee;
        border-radius: 50%;
    }
    .custom-radio:hover input ~ .checkmark {
        background-color: #ccc;
    }
    .custom-radio input:checked ~ .checkmark {
        background-color: #2196F3;
    }
    .checkmark:after {
        content: "";
        position: absolute;
        display: none;
    }
    .custom-radio input:checked ~ .checkmark:after {
        display: block;
    }
    .custom-radio .checkmark:after {
        top: 6px;
        left: 6px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: white;
    }
    body {
    background-color: #121212;
    color: #e0e0e0;
}

.quiz-question {
    margin-bottom: 20px;
    padding: 15px;
    background-color: #1e1e1e;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.quiz-question p {
    font-weight: bold;
    margin-bottom: 10px;
    color: #ffffff;
}

.quiz-options {
    display: flex;
    flex-direction: column;
}

.quiz-option {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    padding: 10px;
    background-color: #2a2a2a;
    border: 1px solid #3a3a3a;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.quiz-option:hover {
    background-color: #3a3a3a;
}

.quiz-option input[type="radio"] {
    margin-right: 10px;
    accent-color: #bb86fc; /* Purple accent color for radio buttons */
}

.quiz-option label {
    margin-bottom: 0;
    cursor: pointer;
    flex-grow: 1;
    color: #e0e0e0;
}

/* Styles for the navigation buttons */
.btn-secondary {
    background-color: #3a3a3a;
    border-color: #4a4a4a;
    color: #e0e0e0;
}

.btn-secondary:hover {
    background-color: #4a4a4a;
    border-color: #5a5a5a;
    color: #ffffff;
}

.btn-primary {
    background-color: #bb86fc;
    border-color: #bb86fc;
    color: #000000;
}

.btn-primary:hover {
    background-color: #9d66eb;
    border-color: #9d66eb;
    color: #000000;
}

/* Styles for other text elements */
h1, h2, h3, h4, h5, h6 {
    color: #bb86fc;
}

a {
    color: #03dac6;
}

a:hover {
    color: #00b3a6;
}
h1 {
            color: #b1b1b1;
        }
        .important {
            color: #ff4500;
            font-weight: bold;
        }

    </style>
</head>
<body>
    <div id="sidebar" class="d-flex flex-column flex-shrink-0 p-3 bg-dark">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
            <span class="fs-4">Introduction to Intelligent Systems (CSELECT2)</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
            <li class="nav-item">
                <a href="#introduction" class="nav-link active" onclick="showTab('introduction')">
                    Introduction
                </a>
            </li>
            <li>
                <a href="#key-concepts" class="nav-link" onclick="showTab('key-concepts')">
                    Key Concepts
                </a>
            </li>
            <li>
                <a href="#algorithms" class="nav-link" onclick="showTab('algorithms')">
                    Algorithms
                </a>
            </li>
            <li>
                <a href="#evaluation" class="nav-link" onclick="showTab('evaluation')">
                    Evaluation
                </a>
            </li>
            <li>
                <a href="#practical" class="nav-link" onclick="showTab('practical')">
                    Practical
                </a>
            </li>
            <li>
                <a href="#quiz" class="nav-link" onclick="showTab('quiz')">
                    Quiz
                </a>
            </li> 
            <li class="nav-item">
                <a href="#complete-submit" class="nav-link" onclick="showTab('complete-submit')">
                    Complete and Submit
                </a>
            </li>
            <li>
                <a onclick="if (confirm('Are you sure you want to clear saved data?')) clearCachedData();" class="nav-link">Clear Saved Data</a>
            </li>
        </ul>
    </div>

    <div id="content">
        <div class="container">
            <h1 class="mb-4">Midterm Lesson 1 - ML: Supervised Learning</h1>
            <h2 id="studentInfo" class="mb-3"></h2>
            <p>By Chino Dela Cruz | NCF - CCS Instructor, Naga College Foundation</p>
                  <!-- hidden startDate-->
            <input type="hidden" id="startDateTime">

            

            <div class="alert alert-info" role="alert">
                What is this about? This lesson introduces you to Supervised Learning, a fundamental concept in Intelligent Systems and Machine Learning.
            </div>
<br>
            <div class="mt-3">
                <button onclick="showPreviousLesson()" class="btn btn-secondary">Previous</button>
                <button onclick="showNextLesson()" class="btn btn-primary">Next</button>
            </div>
<hr>
            <div class="tab-content">
                <div id="introduction" class="tab-pane fade show active">
                    <h2>Introduction to Supervised Learning</h2>
                    <p>Supervised Learning is a type of machine learning where the algorithm learns from labeled training data to make predictions or decisions without being explicitly programmed to do so.</p>
                    <p>It's called 'supervised' because the process of an algorithm learning from the training dataset can be thought of as a teacher supervising the learning process.</p>
                    <img src="https://cdn.prod.website-files.com/5d7b77b063a9066d83e1209c/6158dd5b5c04105262363e0b_0EsztWB4PUcurf7VvW553TcUeF0GE5eBtxYMjb17rBh5fyhVL_C0LfCP19I4r9jxCDCPTc-bCqLSNdRl3y8ACpfK8by3KimdQxQ323EK3W0jysnqFF1cTADD724ed60xomlPsSpc%3Ds0.png" class="img-fluid mb-3" alt="Supervised Learning Diagram">
                    
                        <br>
                    <button class="btn btn-primary" onclick="toggleSimplified('introduction-simplified')">Show Simplified Explanation</button>
                    <div id="introduction-simplified" class="simplified mt-3" style="display: none;">
                        <h4>Simplified Explanation:</h4>
                        <p>Supervised Learning is like teaching a computer to recognize patterns. It's like showing a child pictures of animals and telling them what each animal is. The child learns from these examples and can then identify new animals they haven't seen before.</p>
                    </div>
                    
                </div>

                <div id="key-concepts" class="tab-pane fade">
                    <h2>Key Concepts in Supervised Learning</h2>
                    <ul>
                        <li><strong>Input Raw Data:</strong> The initial dataset, including labeled examples of what we want to predict.</li>
                        <li><strong>Labeled Data:</strong> Examples of input data paired with their correct classifications or outputs.</li>
                        <li><strong>Labels:</strong> The categories or classes we're trying to predict (e.g., cow, elephant, camel).</li>
                        <li><strong>Supervisor:</strong> The entity (often a human expert) who provides the correct labels for the training data.</li>
                        <li><strong>Training Data Set:</strong> The portion of labeled data used to train the model.</li>
                        <li><strong>Desired Output:</strong> The correct predictions we want the model to make.</li>
                        <li><strong>Algorithm:</strong> The mathematical model or approach used to learn patterns from the data.</li>
                        <li><strong>Processing:</strong> The steps taken by the algorithm to analyze the data and make predictions.</li>
                        <li><strong>Output:</strong> The final predictions made by the trained model on new, unseen data.</li>
                    </ul>
                    <div id="concepts-simplified" class="simplified mt-3" style="display: none;">
                        <hr>
                        <h4>Simplified Explanation:</h4>
                        <p>Let's use an "Animal Classification" game to understand these concepts:</p>
                        <ul>
                            <li><strong>Input Raw Data:</strong> A collection of animal pictures</li>
                            <li><strong>Labeled Data:</strong> Animal pictures with their names written underneath</li>
                            <li><strong>Labels:</strong> The animal names (cow, elephant, camel)</li>
                            <li><strong>Supervisor:</strong> A zookeeper who knows all the animals and can name them correctly</li>
                            <li><strong>Training Data Set:</strong> A subset of animal pictures used to teach the computer</li>
                            <li><strong>Desired Output:</strong> Correct animal names for new pictures</li>
                            <li><strong>Algorithm:</strong> The computer program that learns to recognize animals</li>
                            <li><strong>Processing:</strong> The computer analyzing features of the animals to make guesses</li>
                            <li><strong>Output:</strong> The computer's final guess of what animal is in a new picture</li>
                        </ul>
                    </div>
                    <img src="https://media.geeksforgeeks.org/wp-content/uploads/20231121154747/Supervised-learning.png" class="img-fluid mb-3" alt="Supervised Learning Diagram">
                    <br>
                    <button class="btn btn-primary" onclick="toggleSimplified('concepts-simplified')">Show Simplified Explanation</button>
                   
                </div>

                <div id="algorithms" class="tab-pane fade">
                    <h2>Common Supervised Learning Algorithms</h2>
                    <small>Click a tab to learn more about each algorithm.</small>
                    <br>
                    <br>
                    <div id="algorithms-simplified" class="simplified mt-3" style="display: none;">
                        <h4>Simplified Explanation:</h4>
                        <p>Let's explain these algorithms using everyday examples:</p>
                        <ul>
                            <li><strong>Linear Regression:</strong> Like predicting how much an ice cream will cost based on its size. Bigger ice cream = higher price, in a straight line relationship.</li>
                            <li><strong>Logistic Regression:</strong> Like predicting if it will rain tomorrow (yes/no) based on today's temperature and humidity.</li>
                            <li><strong>Decision Trees:</strong> Like a flowchart to decide what to wear. Is it cold? If yes, wear a jacket. If no, is it raining? If yes, take an umbrella. And so on.</li>
                        </ul>
                    </div>
                    <ul class="nav nav-tabs" id="algorithmTabs" role="tablist">
                           <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="linear-regression-tab" data-bs-toggle="tab" data-bs-target="#linear-regression" type="button" role="tab" aria-controls="linear-regression" aria-selected="false">Linear Regression</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="logistic-regression-tab" data-bs-toggle="tab" data-bs-target="#logistic-regression" type="button" role="tab" aria-controls="logistic-regression" aria-selected="false">Logistic Regression</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="decision-trees-tab" data-bs-toggle="tab" data-bs-target="#decision-trees" type="button" role="tab" aria-controls="decision-trees" aria-selected="false">Decision Trees</button>
                        </li>
                    </ul>
                    <div class="tab-content" id="algorithmTabContent">
                        <div class="tab-pane fade show active" id="intro" role="tabpanel" aria-labelledby="intro-tab">
                            <h3>Common Supervised Learning Algorithms</h3>
                            <p>Click on the tabs above to learn more about each algorithm:</p>
                        </div>
                        <div class="tab-pane fade show active" id="linear-regression" role="tabpanel" aria-labelledby="linear-regression-tab">
                            <h2><br>Linear Regression</h2>
                            <p>Linear Regression is used for predicting a continuous value. It assumes a linear relationship between the input features and the output.</p>
                            <ul>
                                <li>Simple Linear Regression: Uses one input feature</li>
                                <li>Multiple Linear Regression: Uses multiple input features</li>
                                <li>Key concept: The model finds the best-fitting straight line through the data points</li>
                                <li>Used for: Price prediction, sales forecasting, etc.</li>
                            </ul>
                            <img src="https://miro.medium.com/v2/resize:fit:1400/1*gQFMs2l_W76Brzu8hwZONg.png" class="img-fluid mb-3" alt="Linear Regression">
                        </div>
                        <div class="tab-pane fade" id="logistic-regression" role="tabpanel" aria-labelledby="logistic-regression-tab">
                            <h2><br>Logistic Regression</h2>
                            <p>Despite its name, Logistic Regression is used for binary classification problems. It predicts the probability of an instance belonging to a particular class.</p>
                            <ul>
                                <li>Uses the logistic function (sigmoid) to map predictions to probabilities</li>
                                <li>Output is always between 0 and 1, representing a probability</li>
                                <li>Decision boundary is linear</li>
                                <li>Used for: Spam detection, disease diagnosis, customer churn prediction</li>
                            </ul>
                            <img src="https://miro.medium.com/max/1400/1*39U1Ln3tSdFqsfQy6ndxOA.png" class="img-fluid mb-3" alt="Logistic Regression">
                        </div>
                        <div class="tab-pane fade" id="decision-trees" role="tabpanel" aria-labelledby="decision-trees-tab">
                            <h2><br>Decision Trees</h2>
                            <p>Decision Trees are versatile algorithms that can be used for both classification and regression tasks. They make decisions based on asking a series of questions.</p>
                            <ul>
                                <li>Tree-like model of decisions</li>
                                <li>Each internal node represents a 'test' on an attribute</li>
                                <li>Each branch represents the outcome of the test</li>
                                <li>Each leaf node represents a class label or a numerical value</li>
                                <li>Used for: Customer segmentation, diagnosis systems</li>
                            </ul>
                            <img src="https://cdn.educba.com/academy/wp-content/uploads/2019/11/Tree-in-Machine-Learning.png" class="img-fluid mb-3" alt="Decision Trees">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary mt-3" onclick="toggleSimplified('algorithms-simplified')">Show Simplified Explanation</button>
                 
                </div>

                <div id="evaluation" class="tab-pane fade">
                    <h2>Model Evaluation in Supervised Learning</h2>
                    <p>Evaluating the performance of your supervised learning model is crucial. Here are some common evaluation metrics:</p>
                    <ul>
                        <li><strong>Accuracy:</strong> The proportion of correct predictions among the total number of cases examined. Used for classification.</li>
                        <li><strong>Precision:</strong> The proportion of true positive predictions among all positive predictions. Used for classification.</li>
                        <li><strong>Recall:</strong> The proportion of true positive predictions among all actual positive cases. Used for classification.</li>
                        <li><strong>F1 Score:</strong> The harmonic mean of precision and recall. Used for classification.</li>
                        <li><strong>Mean Squared Error (MSE):</strong> Average of the squared differences between predicted and actual values. Used for regression.</li>
                        <li><strong>R-squared:</strong> Proportion of the variance in the dependent variable that is predictable from the independent variables. Used for regression.</li>
                        <li><strong>Confusion Matrix:</strong> A table used to describe the performance of a classification model.</li>
                    </ul>
                    <div id="evaluation-simplified" class="simplified mt-3" style="display: none;">
                        <h4>Simplified Explanation:</h4>
                        <p>Evaluating a model is like grading a test. Let's use a weather prediction example:</p>
                        <ul>
                            <li><strong>Accuracy:</strong> Out of 10 days, how many times did we correctly predict rain or shine?</li>
                            <li><strong>Precision:</strong> When we predicted rain, how often were we right?</li>
                            <li><strong>Recall:</strong> Out of all the rainy days, how many did we correctly predict?</li>
                            <li><strong>F1 Score:</strong> A balanced score between precision and recall.</li>
                            <li><strong>Mean Squared Error:</strong> If we're predicting temperature, how far off were we on average?</li>
                            <li><strong>Confusion Matrix:</strong> A table showing our correct and incorrect predictions for rain and shine.</li>
                        </ul>
                    </div>
                    <button class="btn btn-primary" onclick="toggleSimplified('evaluation-simplified')">Show Simplified Explanation</button>
                  <br>
                  <br>
                    <img src="https://miro.medium.com/max/1400/1*fxiTNIgOyvAombPJx5KGeA.png" class="img-fluid mb-3" alt="Evaluation Metrics">
                    
                  
                </div>

                <div id="practical" class="tab-pane fade">
                    <h2>Practical Applications</h2>
                    <small>Click a tab to start. Use only one Notebook for all practical exercises.</small>
                    <br>
                    <br>
                    <ul class="nav nav-tabs" id="practicalTabs" role="tablist">
                        <li class="nav-item" role="presentation"></li>
                            <button class="nav-link active" id="linear-regression-practical-tab" data-bs-toggle="tab" data-bs-target="#linear-regression-practical" type="button" role="tab" aria-controls="linear-regression-practical" aria-selected="true">Linear Regression</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="logistic-regression-practical-tab" data-bs-toggle="tab" data-bs-target="#logistic-regression-practical" type="button" role="tab" aria-controls="logistic-regression-practical" aria-selected="false">Logistic Regression</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="decision-trees-practical-tab" data-bs-toggle="tab" data-bs-target="#decision-trees-practical" type="button" role="tab" aria-controls="decision-trees-practical" aria-selected="false">Decision Trees</button>
                        </li>
                    </ul>
                    <div class="tab-content" id="practicalTabContent">
                        <div class="tab-pane fade show active" id="linear-regression-practical" role="tabpanel" aria-labelledby="linear-regression-practical-tab">
                            <br><h3>. Linear Regression: Titanic Survival Prediction</h3>
                            <p>Follow these steps to implement a linear regression model using the Titanic dataset:</p>
                            <ol>
                                <li>Open <a href="https://colab.research.google.com/" target="_blank">Google Colab</a></li>
                                <li>Create a new notebook</li>
                                <li>Copy and paste the following code into a code cell:</li>
                            </ol>
                            <pre><code>
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score
import matplotlib.pyplot as plt

# Load the dataset
url = "https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv"
df = pd.read_csv(url)

# Prepare the data
df_cleaned = df.dropna(subset=['Age', 'Fare', 'Survived'])
X = df_cleaned[['Age', 'Fare']]
y = df_cleaned['Survived']

# Split the data
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train the model
model = LinearRegression()
model.fit(X_train, y_train)

# Make predictions
y_pred = model.predict(X_test)

# Evaluate the model
mse = mean_squared_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)

# Print results
print(f"Mean Squared Error: {mse:.4f}")
print(f"R-squared Score: {r2:.4f}")
print("\nModel Coefficients:")
print(f"Age: {model.coef_[0]:.4f}")
print(f"Fare: {model.coef_[1]:.4f}")
print(f"Intercept: {model.intercept_:.4f}")

# Visualize Age vs Survival
plt.figure(figsize=(10, 6))
plt.scatter(X_test['Age'], y_test, color='black', label='Actual')
plt.scatter(X_test['Age'], y_pred, color='blue', label='Predicted')
plt.xlabel('Age')
plt.ylabel('Survival Probability')
plt.title('Age vs Survival Probability (Linear Regression)')
plt.legend()
plt.show()

# Visualize Fare vs Survival
plt.figure(figsize=(10, 6))
plt.scatter(X_test['Fare'], y_test, color='black', label='Actual')
plt.scatter(X_test['Fare'], y_pred, color='red', label='Predicted')
plt.xlabel('Fare')
plt.ylabel('Survival Probability')
plt.title('Fare vs Survival Probability (Linear Regression)')
plt.legend()
plt.show()
                            </code></pre>
                            <h4>Explanation:</h4>
                            <p>This code implements a linear regression model to predict the probability of survival on the Titanic based on a passenger's age and fare. Here's a breakdown of what the code does:</p>
                            <ol>
                                <li>It loads the Titanic dataset and prepares the data by removing rows with missing values.</li>
                                <li>The features (X) are 'Age' and 'Fare', and the target variable (y) is 'Survived'.</li>
                                <li>The data is split into training and testing sets.</li>
                                <li>A LinearRegression model is trained on the training data.</li>
                                <li>The model makes predictions on the test data.</li>
                                <li>The model's performance is evaluated using Mean Squared Error and R-squared score.</li>
                                <li>The model's coefficients are printed to show the impact of each feature on the survival probability.</li>
                                <li>Two scatter plots are created to visualize the relationship between Age and Survival, and Fare and Survival.</li>
                            </ol>
                            <h4>Simplified Explanation:</h4>
                            <p>Imagine you're trying to guess if a Titanic passenger survived based on their age and ticket price. This code teaches a computer to make that guess. It looks at examples of passengers who did or didn't survive, learns from these examples, and then tries to predict for new passengers. The computer then shows how well it guessed and draws pictures to help us understand its guesses better.</p>
                        </div>
                        <div class="tab-pane fade" id="logistic-regression-practical" role="tabpanel" aria-labelledby="logistic-regression-practical-tab">
                            <br><h3>2. Logistic Regression: Iris Flower Classification</h3>
                            <p>Now, let's implement a logistic regression model using the Iris dataset:</p>
                            <pre><code>
import pandas as pd
from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score, classification_report
import matplotlib.pyplot as plt

# Load the Iris dataset
iris = load_iris()
X = iris.data
y = iris.target

# Split the data
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)

# Train the model
model = LogisticRegression(multi_class='ovr', random_state=42)
model.fit(X_train, y_train)

# Make predictions
y_pred = model.predict(X_test)

# Evaluate the model
accuracy = accuracy_score(y_test, y_pred)
print(f"Accuracy: {accuracy:.4f}")
print("\nClassification Report:")
print(classification_report(y_test, y_pred, target_names=iris.target_names))

# Visualize the results (for the first two features)
plt.figure(figsize=(10, 6))
for i, color in zip(range(3), ['red', 'green', 'blue']):
    idx = y_test == i
    plt.scatter(X_test[idx, 0], X_test[idx, 1], c=color, label=iris.target_names[i])
plt.xlabel(iris.feature_names[0])
plt.ylabel(iris.feature_names[1])
plt.title('Iris Classification Results')
plt.legend()
plt.show()
                            </code></pre>
                            <h4>Explanation:</h4>
                            <p>This code implements a logistic regression model to classify Iris flowers into three species based on four features (sepal length, sepal width, petal length, and petal width). Here's what the code does:</p>
                            <ol>
                                <li>It loads the Iris dataset, which is a built-in dataset in scikit-learn.</li>
                                <li>The data is split into training and testing sets.</li>
                                <li>A LogisticRegression model is trained on the training data.</li>
                                <li>The model makes predictions on the test data.</li>
                                <li>The model's performance is evaluated using accuracy score and a classification report.</li>
                                <li>A scatter plot is created to visualize the classification results for the first two features.</li>
                            </ol>
                            <h4>Simplified Explanation:</h4>
                            <p>Imagine you're a botanist trying to identify different types of Iris flowers. This code teaches a computer to recognize three types of Iris flowers based on measurements of their petals and sepals. The computer learns from examples, then tries to guess the type of new flowers it hasn't seen before. It then shows how well it guessed and draws a picture to help us see how it's separating the different types of flowers.</p>
                        </div>
                        <div class="tab-pane fade" id="decision-trees-practical" role="tabpanel" aria-labelledby="decision-trees-practical-tab">
                            <br><h3>3. Decision Trees: Wine Quality Prediction</h3>
                            <p>Finally, let's implement a decision tree model using the Wine Quality dataset:</p>
                            <pre><code>
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.tree import DecisionTreeClassifier, plot_tree
from sklearn.metrics import accuracy_score, classification_report
import matplotlib.pyplot as plt

# Load the Wine Quality dataset
url = "https://archive.ics.uci.edu/ml/machine-learning-databases/wine-quality/winequality-red.csv"
df = pd.read_csv(url, sep=';')

# Prepare the data
X = df.drop('quality', axis=1)
y = df['quality']

# Split the data
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train the model
model = DecisionTreeClassifier(max_depth=3, random_state=42)
model.fit(X_train, y_train)

# Make predictions
y_pred = model.predict(X_test)

# Evaluate the model
accuracy = accuracy_score(y_test, y_pred)
print(f"Accuracy: {accuracy:.4f}")
print("\nClassification Report:")
print(classification_report(y_test, y_pred))

# Visualize the decision tree
plt.figure(figsize=(20,10))
plot_tree(model, feature_names=X.columns, class_names=model.classes_.astype(str), filled=True, rounded=True)
plt.title("Decision Tree for Wine Quality Prediction")
plt.show()
                            </code></pre>
                            <h4>Explanation:</h4>
                            <p>This code implements a decision tree model to predict the quality of wine based on various chemical properties. Here's what the code does:</p>
                            <ol>
                                <li>It loads the Wine Quality dataset from a UCI Machine Learning Repository.</li>
                                <li>The features (X) are various chemical properties of the wine, and the target variable (y) is the quality rating.</li>
                                <li>The data is split into training and testing sets.</li>
                                <li>A DecisionTreeClassifier model with a maximum depth of 3 is trained on the training data.</li>
                                <li>The model makes predictions on the test data.</li>
                                <li>The model's performance is evaluated using accuracy score and a classification report.</li>
                                <li>The decision tree is visualized to show how the model is making its decisions.</li>
                            </ol>
                            <h4>Simplified Explanation:</h4>
                            <p>Imagine you're a wine taster trying to rate wines based on their chemical makeup. This code teaches a computer to guess the quality of a wine by looking at things like how acidic it is or how much alcohol it contains. The computer learns by looking at examples of wines and their ratings, then tries to rate new wines it hasn't tasted before. It shows how well it guessed and draws a picture of the "decision tree" it uses to make its guesses, kind of like a flowchart for wine tasting.</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <label for="colabLink" class="form-label">After running each code snippet, paste the link to your Google Colab notebook here:</label>
                        <input type="text" class="form-control" id="colabLink" placeholder="https://colab.research.google.com/...">
                    </div>
                </div>

                <div id="quiz" class="tab-pane fade">
                    <h2>Quiz: Supervised Learning</h2>
                    <br>
                    <br>
                    <form id="quizForm">
                        <!-- Quiz questions will be dynamically inserted here -->
                    </form>
                    <button class="btn btn-primary mt-3" onclick="submitQuiz()">Submit Quiz</button>
                </div>

                <div id="complete-submit" class="tab-pane fade">
                    <h2>Complete and Submit</h2>
                    <form id="surveyForm">
                        <div class="mb-3">
                            <label for="lessonStyle" class="form-label">Did you like this style of lesson?</label>
                            <select class="form-select" id="lessonStyle" required>
                                <option value="">Choose...</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Neutral">Neutral</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="furtherQuestions" class="form-label">Do you have any further questions about the lesson?</label>
                            <textarea class="form-control" id="furtherQuestions" rows="3"></textarea>
                        </div>
                        <button type="button" onclick="submitSurvey()" class="btn btn-primary">Submit Survey and Lesson</button>
                    </form>
                </div>
            </div>
        </div>
        <hr>
        <div class="mt-3">
            <button onclick="showPreviousLesson()" class="btn btn-secondary">Previous</button>
            <button onclick="showNextLesson()" class="btn btn-primary">Next</button>
        </div>
        <br>
        <h2 class="important">Student Instructions for Online Lesson</h21>
        <h2>Rules and Guidelines:</h2>
        <ul>
            <li>Completing and submitting within 3 hours of logging in (on the same day) will provide bonus points on the total score.</li>
            <li>If submitted later on the same day, additional points will still be added, but small deductions will be applied for each day that passes.</li>
            <li>The final submission deadline is <span class="important">Friday, September 27, at 6 PM</span>.</li>
            <li>This assignment will also serve as your attendance.</li>
            <li>Scores will be provided once all students have submitted.</li>
        </ul>
        
        <h2>Instructions:</h2>
        <ol>
            <li>Download the provided HTML file.</li>
            <li>Make sure to access the HTML file with an active internet connection.</li>
            <li><span class="important">Do not modify the HTML code.</span></li>
            <li>You can start as soon as possible.</li>
            <li>Read the content carefully and follow the instructions.</li>
            <li>Please answer the survey at the end before submitting.</li>
        </ol>
        
        <p>If you have any questions or issues, please contact your instructor immediately.</p>
        
        <p class="important">Remember: Starting early gives you the best chance to earn bonus points and complete the assignment without rushing!</p>
    
 
    </div>

 

    <div class="modal fade" id="studentInfoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="studentInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="studentInfoModalLabel">Welcome to the Lesson</h5>
            </div>
            <div class="modal-body">
              <form id="studentInfoForm" novalidate>
                <div class="mb-3">
                  <label for="studentName" class="form-label">Your Name</label>
                  <input type="text" class="form-control" id="studentName" required>
                  <div class="invalid-feedback">Please enter your name.</div>
                </div>
                <div class="mb-3">
                  <label for="studentEmail" class="form-label">Your NCF Email</label>
                  <input type="email" class="form-control" id="studentEmail" required>
                  <div class="invalid-feedback">Please enter a valid NCF email address.</div>
                </div>
                <div class="mb-3">
                  <label for="studentSection" class="form-label">Your Section</label>
                  <select class="form-select" id="studentSection" required>
                    <option value="">Choose...</option>
                    <option value="CS3A">CS3A</option>
                    <option value="CS3B">CS3B</option>
                  </select>
                  <div class="invalid-feedback">Please select your section.</div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" onclick="submitStudentInfo()">Start Lesson</button>
            </div>
          </div>
        </div>
      </div>


      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to show a specific tab
        const lessonSections = ['introduction', 'key-concepts', 'algorithms', 'evaluation', 'practical', 'quiz', 'complete-submit'];

// Variable to keep track of the current section
let currentSectionIndex = 0;

// Function to show a specific tab
function showTab(tabId) {
    // Hide all tab content
    document.querySelectorAll('.tab-pane').forEach(tab => {
        tab.classList.remove('show', 'active');
    });

    // Show the selected tab
    const selectedTab = document.getElementById(tabId);
    if (selectedTab) {
        selectedTab.classList.add('show', 'active');
    }

    // Update the active state in the navigation
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
    });
    const activeNavLink = document.querySelector(`.nav-link[href="#${tabId}"]`);
    if (activeNavLink) {
        activeNavLink.classList.add('active');
    }

    // Update the current section index
    currentSectionIndex = lessonSections.indexOf(tabId);
    updateNavigationButtons();
}

// Function to show the previous lesson section
function showPreviousLesson() {
    if (currentSectionIndex > 0) {
        currentSectionIndex--;
        showTab(lessonSections[currentSectionIndex]);
    }
}

// Function to show the next lesson section
function showNextLesson() {
    if (currentSectionIndex < lessonSections.length - 1) {
        currentSectionIndex++;
        showTab(lessonSections[currentSectionIndex]);
    }
}

// Function to update the state of navigation buttons
function updateNavigationButtons() {
    const prevButton = document.querySelector('button[onclick="showPreviousLesson()"]');
    const nextButton = document.querySelector('button[onclick="showNextLesson()"]');

    prevButton.disabled = (currentSectionIndex === 0);
    nextButton.disabled = (currentSectionIndex === lessonSections.length - 1);
}

// Initialize the lesson navigation
function initLessonNavigation() {
    showTab(lessonSections[0]);
    updateNavigationButtons();
}

// Call this function when the page loads
document.addEventListener('DOMContentLoaded', initLessonNavigation);

        // Function to toggle simplified explanations
        function toggleSimplified(id) {
            const element = document.getElementById(id);
            if (element.style.display === 'none') {
                element.style.display = 'block';
            } else {
                element.style.display = 'none';
            }
        }

   // Function to get student information
function getStudentInfo() {
    const cachedInfo = JSON.parse(localStorage.getItem('studentInfo'));
    if (cachedInfo) {
        //alert("Name: " + cachedInfo.name + "\nEmail: " + cachedInfo.email + "\nSection: " + cachedInfo.section + "\nDate: " + cachedInfo.date + "\nTime: " + cachedInfo.time);
        document.getElementById('studentName').value = cachedInfo.name;
        document.getElementById('studentEmail').value = cachedInfo.email;
        document.getElementById('studentSection').value = cachedInfo.section;
        document.getElementById('studentInfo').innerHTML = `Welcome back, ${cachedInfo.name} (${cachedInfo.section})! <br><small><small><small>You started this lesson on ${cachedInfo.date} at ${cachedInfo.time}.</small></small></small><hr>`;
        document.getElementById('startDateTime').value = cachedInfo.date + ' ' + cachedInfo.time;
    } else {
        const studentInfoModal = new bootstrap.Modal(document.getElementById('studentInfoModal'), {
            keyboard: false,
            backdrop: 'static'
        });
        studentInfoModal.show();
    }
}
// Function to submit student information
function submitStudentInfo() {
    const form = document.getElementById('studentInfoForm');
    const nameInput = document.getElementById('studentName');
    const emailInput = document.getElementById('studentEmail');
    const sectionInput = document.getElementById('studentSection');
    
    form.classList.add('was-validated');

    if (form.checkValidity()) {
        const name = nameInput.value.trim();
        const email = emailInput.value.trim();
        const section = sectionInput.value;
        const date = new Date().toLocaleDateString();
        const time = new Date().toLocaleTimeString();
        
        const studentInfo = { name, email, section, date, time };
        localStorage.setItem('studentInfo', JSON.stringify(studentInfo));
        
        document.getElementById('studentInfo').innerHTML = `Welcome, ${name} (${section})! You started this lesson on ${date} at ${time}.`;
        // Hide the modal
        const studentInfoModal = bootstrap.Modal.getInstance(document.getElementById('studentInfoModal'));
        studentInfoModal.hide();

        // Hide the form and show a welcome message
        document.getElementById('studentInfoForm').style.display = 'none';
        document.querySelector('.modal-body').innerHTML = `
            <div class="alert alert-success" role="alert">
                Welcome, ${name}! Your information has been recorded successfully.
            </div>
        `;

        // Change the "Start Lesson" button to "Close"
        const startLessonBtn = document.querySelector('.modal-footer .btn-primary');
        startLessonBtn.textContent = 'Close';
        startLessonBtn.onclick = function() {
            studentInfoModal.hide();
        };
        location.reload();
    }
}

// Function to clear cached data
function clearCachedData() {
    localStorage.removeItem('studentInfo');
    location.reload();
}

// Custom email validation
document.getElementById('studentEmail').addEventListener('input', function (event) {
    if (event.target.validity.patternMismatch) {
        event.target.setCustomValidity("Please enter a valid NCF email address ending with @ncf.edu.ph");
    } else {
        event.target.setCustomValidity("");
    }
});

const quizQuestions = [
    {
        number: 1,
        question: "What is the primary characteristic of supervised learning?",
        options: [
            "It uses unlabeled data",
            "It requires labeled training data",
            "It doesn't require any training data",
            "It only works with numerical data"
        ]
    },
    {
        number: 2,
        question: "Which of the following is NOT a type of supervised learning problem?",
        options: [
            "Classification",
            "Regression",
            "Clustering",
            "Time series prediction"
        ]
    },
    {
        number: 3,
        question: "What is the primary assumption of Linear Regression?",
        options: [
            "There is a non-linear relationship between features and output",
            "There is a linear relationship between features and output",
            "The output is always positive",
            "The features are always categorical"
        ]
    },
    {
        number: 4,
        question: "What type of problems is Logistic Regression typically used for?",
        options: [
            "Regression problems",
            "Multi-class classification",
            "Binary classification",
            "Clustering"
        ]
    },
    {
        number: 5,
        question: "What is a key advantage of Decision Trees?",
        options: [
            "They always produce the most accurate results",
            "They are easy to interpret and explain",
            "They can only be used for classification",
            "They require minimal data preprocessing"
        ]
    },
    {
        number: 6,
        question: "Which of the following is NOT a common evaluation metric for classification problems?",
        options: [
            "Accuracy",
            "Precision",
            "Recall",
            "Mean Squared Error"
        ]
    },
    {
        number: 7,
        question: "What does the R-squared metric measure in regression problems?",
        options: [
            "The slope of the regression line",
            "The proportion of variance in the dependent variable explained by the independent variables",
            "The average error of the model",
            "The number of features used in the model"
        ]
    },
    {
        number: 8,
        question: "What is overfitting in supervised learning?",
        options: [
            "When the model performs well on training data but poorly on unseen data",
            "When the model performs poorly on both training and unseen data",
            "When the model performs well on both training and unseen data",
            "When the model requires more training data"
        ]
    },
    {
        number: 9,
        question: "Which of the following is a technique to prevent overfitting?",
        options: [
            "Increasing model complexity",
            "Using all available features",
            "Regularization",
            "Using a smaller training set"
        ]
    },
    {
        number: 10,
        question: "What is the purpose of the train-test split in supervised learning?",
        options: [
            "To increase the size of the dataset",
            "To evaluate model performance on unseen data",
            "To reduce computational time",
            "To eliminate the need for cross-validation"
        ]
    },
    {
        number: 11,
        question: "Which of the following is an example of a classification problem?",
        options: [
            "Predicting house prices",
            "Estimating a person's age",
            "Identifying spam emails",
            "Forecasting stock prices"
        ]
    },
    {
        number: 12,
        question: "What is feature scaling in supervised learning?",
        options: [
            "Increasing the number of features",
            "Normalizing the range of independent variables",
            "Removing irrelevant features",
            "Creating new features from existing ones"
        ]
    },
    {
        number: 13,
        question: "What does the term \"bias\" refer to in the context of supervised learning?",
        options: [
            "The model's tendency to consistently overestimate or underestimate the target variable",
            "The variance in the model's predictions",
            "The number of features used in the model",
            "The model's accuracy on the training data"
        ]
    },
    {
        number: 14,
        question: "Which of the following is NOT a common challenge in supervised learning?",
        options: [
            "Overfitting",
            "Underfitting",
            "Imbalanced datasets",
            "Unlimited computational resources"
        ]
    },
    {
        number: 15,
        question: "What is the purpose of cross-validation in supervised learning?",
        options: [
            "To increase the training set size",
            "To provide a more robust estimate of model performance",
            "To reduce computational time",
            "To visualize the decision boundary"
        ]
    }
];

// Function to generate quiz
function generateQuiz() {
    const quizForm = document.getElementById('quizForm');
    quizForm.innerHTML = ''; // Clear existing content

    quizQuestions.forEach((q) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question no-copy';
        
        const questionText = document.createElement('p');
        questionText.textContent = `${q.number}. ${q.question}`;
        questionDiv.appendChild(questionText);

        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'quiz-options';

        q.options.forEach((option, i) => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'quiz-option';

            const input = document.createElement('input');
            input.type = 'radio';
            input.id = `q${q.number}o${i}`;
            input.name = `q${q.number}`;
            input.value = i;
            input.required = true;

            const label = document.createElement('label');
            label.htmlFor = `q${q.number}o${i}`;
            label.textContent = option;

            optionDiv.appendChild(input);
            optionDiv.appendChild(label);
            optionsDiv.appendChild(optionDiv);
        });

        questionDiv.appendChild(optionsDiv);
        quizForm.appendChild(questionDiv);
    });

    // Add event listeners to prevent copying only on quiz elements
    quizForm.addEventListener('copy', preventCopy);
    quizForm.addEventListener('contextmenu', preventContextMenu);
}

// Function to prevent copying
function preventCopy(e) {
    if (e.target.closest('.no-copy')) {
        e.preventDefault();
        alert('Copying is not allowed for quiz questions.');
    }
}

// Function to prevent context menu (right-click)
function preventContextMenu(e) {
    if (e.target.closest('.no-copy')) {
        e.preventDefault();
    }
}

// Call this function when you want to remove the anti-copy measures (e.g., after quiz submission)
function removeAntiCopyMeasures() {
    document.removeEventListener('copy', preventCopy);
    document.removeEventListener('contextmenu', preventContextMenu);
}

// Function to submit quiz
function submitQuiz() {
    let unansweredQuestions = [];

    quizQuestions.forEach((q) => {
        const selectedAnswer = document.querySelector(`input[name="q${q.number}"]:checked`);
        if (!selectedAnswer) {
            unansweredQuestions.push(q.number);
        }
    });

    if (unansweredQuestions.length > 0) {
        alert(`Please answer all questions. Unanswered questions: ${unansweredQuestions.join(', ')}`);
        return;
    }
    
    alert('Quiz submitted successfully! Answer Survey to complete the lesson.');
   // document.getElementById('surveySection').style.display = 'block';
    showTab('complete-submit');
}
        // Function to submit survey
function submitSurvey() {
    let unansweredQuestions = [];
quizQuestions.forEach((q) => {
    const selectedAnswer = document.querySelector(`input[name="q${q.number}"]:checked`);
    if (!selectedAnswer) {
        unansweredQuestions.push(q.number);
    }
});

if (unansweredQuestions.length > 0) {
    alert(`Please answer all questions. Unanswered questions: ${unansweredQuestions.join(', ')}`);
    return;
}
        const name = document.getElementById('studentName').value.trim();
        const email = document.getElementById('studentEmail').value.trim();
        const section = document.getElementById('studentSection').value;
        const lessonStyle = document.getElementById('lessonStyle').value;
        const dateTime = document.getElementById('startDateTime').value;
        const furtherQuestions = document.getElementById('furtherQuestions').value.trim() || 'None';
        const colablink = document.getElementById('colabLink').value.trim() || 'Not provided';
        const term = 'midterm';
        const lesson = 'm1-supervised-learning';

        //alert('Name: ' + name + '\nEmail: ' + email + '\nSection: ' + section + '\nLesson Style: ' + lessonStyle + '\nFurther Questions: ' + furtherQuestions + '\nColab Link: ' + colablink + '\nDate and Time: ' + dateTime);
   
  

       // alert('Name: ' + name + ' | Bool: ' + !name);
        //alert('Email: ' + email + ' | Bool: ' + !email);
        //alert('Section: ' + section + ' | Bool: ' + !section);
        //alert('Lesson Style: ' + lessonStyle + ' | Bool: ' + !lessonStyle);
        // Check if all fields are populated
        if (!name || !email || !section || !lessonStyle) {
            alert("Please fill in all required fields before submitting.");
            return;
        }

        // Validate email format
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            alert("Please enter a valid email address.");
            return;
        }

        // Collect quiz answers
        const quizAnswers = quizQuestions.map((q, index) => {
            const selectedAnswer = document.querySelector(`input[name="q${q.number}"]:checked`);
            return selectedAnswer ? `Q${q.number}: ${selectedAnswer.value}` : `Q${q.number}: Not answered`;
        }).join('|'); // Join with a pipe character for easier parsing

        // Calculate submission time vs start time
        const startTime = new Date(dateTime);
        const endTime = new Date();
        const timeDiff = Math.abs(endTime - startTime);
        const diffHours = Math.floor(timeDiff / (1000 * 60 * 60));
        const diffMinutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
        // Prepare data for submission
        const data = {
            name,
            email,
            section,
            lessonStyle,
            furtherQuestions,
            quizAnswers,
            term,
            lesson,
            colablink,
            dateTime,
            submissionTime: `${diffHours} hours and ${diffMinutes} minutes`
        };

        // Convert data to query string
        const queryString = Object.keys(data)
            .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`)
            .join('&');

        // Suitelet URL (replace with your actual Suitelet URL)
        const suiteletUrl = 'https://tstdrv1460448.extforms.netsuite.com/app/site/hosting/scriptlet.nl?script=3835&deploy=1&compid=TSTDRV1460448&ns-at=AAEJ7tMQNc_AdUNLMKMSP3FREdCqRVp8M9c3-U1TsfMuxez37yM';

        // Send data to Suitelet
        var xhr = new XMLHttpRequest();
        xhr.open('GET', `${suiteletUrl}&${queryString}`, true);
        xhr.send();
        console.log('Submission successful');
        if (confirm('Thank you for completing the lesson, quiz, and survey! You want to clear saved data?')) {
                clearCachedData();
        }
}


        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            getStudentInfo();
            generateQuiz();
            showTab('introduction');
        });






    </script>
</body>
</html>
    </script>
</body>
</html>